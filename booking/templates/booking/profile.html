<!-- booking/templates/booking/profile.html -->
{% extends 'booking/base.html' %}
{% block content %}
<h2>Welcome, {{ user.username }}!</h2>

<h3>My Fitness Goals</h3>
<p>{{ user.userprofile.get_fitness_goal_display }}</p>
<a href="{% url 'set_goal' %}">
    <button>Change Goal</button>
</a>

<h3>My Sports Data</h3>
<div style="display: flex; justify-content: space-between; margin: 20px 0;">
    <div style="border: 2px solid #333; padding: 15px; text-align: center; flex: 1; margin: 0 10px; border-radius: 8px;">
        <h4 style="margin: 0 0 10px 0; font-size: 14px;">Total exercise time</h4>
        <div style="font-size: 24px; font-weight: bold;">{{ sports_data.total_exercise_time }}min</div>
    </div>
    <div style="border: 2px solid #333; padding: 15px; text-align: center; flex: 1; margin: 0 10px; border-radius: 8px;">
        <h4 style="margin: 0 0 10px 0; font-size: 14px;">Physical improvement training</h4>
        <div style="font-size: 24px; font-weight: bold;">{{ sports_data.physical_improvement_time }}min</div>
    </div>
    <div style="border: 2px solid #333; padding: 15px; text-align: center; flex: 1; margin: 0 10px; border-radius: 8px;">
        <h4 style="margin: 0 0 10px 0; font-size: 14px;">Strength training</h4>
        <div style="font-size: 24px; font-weight: bold;">{{ sports_data.strength_training_time }}min</div>
    </div>
</div>

<h3>Recommended Courses</h3>
<ul>
    {% for course in recommended_courses %}
    <li style="margin-bottom: 20px;">
        <strong style="font-size: 18px;">{{ course.name }}</strong><br>
        <p>{{ course.description }}</p>

        <p><strong>Next Start Time:</strong> {{ course.date }} {{ course.time }}</p>
        <p>Instructor: {{ course.instructor }}</p>
        <p>Location: {{ course.location }}</p>

        {% if course.image %}
        <img src="{{ course.image.url }}" alt="{{ course.name }}" style="max-width: 300px; height: auto; border-radius: 8px;" />
        {% endif %}

        <form method="post" action="{% url 'book_class' course.id %}">
            {% csrf_token %}
            <button type="submit">Book Now</button>
        </form>
    </li>
    {% endfor %}
</ul>

{% endblock %}
